exports.id=141,exports.ids=[141],exports.modules={752:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.d(t,{Z:()=>d});var r=a(997);a(6689);var i=a(1982),n=e([i]);i=(n.then?(await n)():n)[0];let d=({children:e})=>(0,r.jsxs)("div",{className:"min-h-screen bg-background",children:[r.jsx(i.Z,{}),r.jsx("main",{children:e})]});s()}catch(e){s(e)}})},1982:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.d(t,{Z:()=>m});var r=a(997);a(6689);var i=a(1664),n=a.n(i),d=a(5338),o=a(354),l=a(123),c=a(179),u=a(8885),f=e([o,l,c,u]);[o,l,c,u]=f.then?(await f)():f;let m=()=>{let{user:e}=(0,u.a)();return r.jsx("nav",{className:"border-b",children:r.jsx("div",{className:"container mx-auto px-4 py-3",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx(n(),{href:"/",className:"text-xl font-bold",children:"SnapFifty"}),r.jsx("div",{className:"flex items-center space-x-4",children:e&&(0,r.jsxs)(l.J2,{children:[r.jsx(l.xo,{asChild:!0,children:r.jsx(o.z,{variant:"outline",size:"icon",className:"relative",children:r.jsx(d.Z,{className:"h-5 w-5"})})}),r.jsx(l.yk,{className:"w-[380px] p-0",align:"end",children:r.jsx(c.Z,{})})]})})]})})})};s()}catch(e){s(e)}})},179:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.d(t,{Z:()=>c});var r=a(997);a(6689);var i=a(7447),n=a(5333),d=a(354),o=a(1203),l=e([i,n,d]);[i,n,d]=l.then?(await l)():l;let c=()=>{let{notifications:e,markAsRead:t,clearNotification:a}=(0,i.z)();return r.jsx(n.x,{className:"h-[300px] w-[350px] rounded-md border p-4",children:0===e.length?r.jsx("div",{className:"text-center text-sm text-gray-500",children:"No notifications"}):r.jsx("div",{className:"space-y-4",children:e.map(e=>(0,r.jsxs)("div",{className:`flex items-start justify-between space-x-4 rounded-lg p-3 ${e.read?"bg-gray-50":"bg-blue-50"}`,children:[(0,r.jsxs)("div",{className:"space-y-1",children:[r.jsx("p",{className:"text-sm font-medium",children:e.title}),r.jsx("p",{className:"text-sm text-gray-500",children:e.message})]}),r.jsx(d.z,{variant:"ghost",size:"icon",onClick:()=>a(e.id),children:r.jsx(o.Z,{className:"h-4 w-4"})})]},e.id))})})};s()}catch(e){s(e)}})},8935:(e,t,a)=>{"use strict";a.a(e,async(e,t)=>{try{a(997),a(6689);var s=a(7300),r=a(354),i=a(8297),n=a(3595),d=a(9014),o=a(6020),l=a(8885),c=e([s,r,i,n,d,o,l]);[s,r,i,n,d,o,l]=c.then?(await c)():c,t()}catch(e){t(e)}})},9327:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.d(t,{Z:()=>c});var r=a(997),i=a(6689),n=a(8935),d=a(354),o=a(224),l=e([n,d,o]);[n,d,o]=l.then?(await l)():l;let c=({deal:e})=>{let{prediction:t,loading:a}=(0,o.l)(e.id),[s,n]=(0,i.useState)(!1);return(0,r.jsxs)(Card,{className:"w-full max-w-sm",children:[r.jsx(CardHeader,{children:(0,r.jsxs)(CardTitle,{className:"flex items-center justify-between",children:[r.jsx("span",{children:e.title}),(()=>{if(a)return null;let e={UP:{icon:ArrowUpCircle,color:"text-red-500",bg:"bg-red-50"},DOWN:{icon:ArrowDownCircle,color:"text-green-500",bg:"bg-green-50"},STABLE:{icon:MinusCircle,color:"text-gray-500",bg:"bg-gray-50"}}[t?.trendDirection||"STABLE"],s=e.icon;return(0,r.jsxs)("div",{className:`flex items-center gap-1 px-2 py-1 rounded-full ${e.bg}`,children:[r.jsx(s,{className:`h-4 w-4 ${e.color}`}),r.jsx("span",{className:`text-sm font-medium ${e.color}`,children:t?.trendDirection})]})})()]})}),r.jsx(CardContent,{children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("span",{className:"text-2xl font-bold",children:["$",e.discountedPrice]}),(0,r.jsxs)("span",{className:"text-gray-500 line-through",children:["$",e.originalPrice]})]}),r.jsx("p",{className:"text-gray-600",children:e.description})]})}),(0,r.jsxs)(CardFooter,{className:"flex justify-between",children:[(0,r.jsxs)(Dialog,{open:s,onOpenChange:n,children:[r.jsx(DialogTrigger,{asChild:!0,children:(0,r.jsxs)(d.z,{variant:"outline",className:"flex items-center gap-2",children:[r.jsx(TrendingUp,{className:"h-4 w-4"}),"View Price Trends"]})}),r.jsx(DialogContent,{className:"max-w-3xl",children:r.jsx(PriceTrendCard,{dealId:e.id})})]}),r.jsx(d.z,{onClick:()=>window.open(e.storeUrl,"_blank"),children:"Get Deal"})]})]})};s()}catch(e){s(e)}})},9014:(e,t,a)=>{"use strict";a.a(e,async(e,t)=>{try{var s=a(997),r=a(6689),i=a(6926),n=a(7849),d=e([i,n]);[i,n]=d.then?(await d)():d;let o=(0,i.cva)("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}});r.forwardRef(({className:e,variant:t,...a},r)=>s.jsx("div",{ref:r,role:"alert",className:(0,n.cn)(o({variant:t}),e),...a})).displayName="Alert",r.forwardRef(({className:e,...t},a)=>s.jsx("h5",{ref:a,className:(0,n.cn)("mb-1 font-medium leading-none tracking-tight",e),...t})).displayName="AlertTitle",r.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:(0,n.cn)("text-sm [&_p]:leading-relaxed",e),...t})).displayName="AlertDescription",t()}catch(e){t(e)}})},354:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.d(t,{z:()=>o});var r=a(997),i=a(6689),n=a(7849),d=e([n]);n=(d.then?(await d)():d)[0];let o=i.forwardRef(({className:e,variant:t="default",size:a="default",...s},i)=>r.jsx("button",{className:(0,n.cn)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{"bg-primary text-primary-foreground hover:bg-primary/90":"default"===t,"bg-destructive text-destructive-foreground hover:bg-destructive/90":"destructive"===t,"border border-input bg-background hover:bg-accent hover:text-accent-foreground":"outline"===t,"hover:bg-accent hover:text-accent-foreground":"ghost"===t,"h-10 px-4 py-2":"default"===a,"h-9 rounded-md px-3":"sm"===a,"h-11 rounded-md px-8":"lg"===a},e),ref:i,...s}));o.displayName="Button",s()}catch(e){s(e)}})},7300:(e,t,a)=>{"use strict";a.a(e,async(e,t)=>{try{var s=a(997),r=a(6689),i=a(7715),n=a(7849),d=a(1203),o=e([i,n]);[i,n]=o.then?(await o)():o,i.Root,i.Trigger;let l=i.Portal;i.Close;let c=r.forwardRef(({className:e,...t},a)=>s.jsx(i.Overlay,{ref:a,className:(0,n.cn)("fixed inset-0 z-50 bg-black/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));c.displayName=i.Overlay.displayName,r.forwardRef(({className:e,children:t,...a},r)=>(0,s.jsxs)(l,{children:[s.jsx(c,{}),(0,s.jsxs)(i.Content,{ref:r,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...a,children:[t,(0,s.jsxs)(i.Close,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(d.Z,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]})).displayName=i.Content.displayName,r.forwardRef(({className:e,...t},a)=>s.jsx(i.Title,{ref:a,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",e),...t})).displayName=i.Title.displayName,r.forwardRef(({className:e,...t},a)=>s.jsx(i.Description,{ref:a,className:(0,n.cn)("text-sm text-muted-foreground",e),...t})).displayName=i.Description.displayName,t()}catch(e){t(e)}})},8297:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.d(t,{I:()=>o});var r=a(997),i=a(6689),n=a(7849),d=e([n]);n=(d.then?(await d)():d)[0];let o=i.forwardRef(({className:e,type:t,...a},s)=>r.jsx("input",{type:t,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...a}));o.displayName="Input",s()}catch(e){s(e)}})},3595:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.d(t,{_:()=>l});var r=a(997),i=a(6689),n=a(49),d=a(7849),o=e([n,d]);[n,d]=o.then?(await o)():o;let l=i.forwardRef(({className:e,...t},a)=>r.jsx(n.Root,{ref:a,className:(0,d.cn)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e),...t}));l.displayName=n.Root.displayName,s()}catch(e){s(e)}})},123:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.d(t,{J2:()=>l,xo:()=>c,yk:()=>u});var r=a(997),i=a(6689),n=a(8680),d=a(7849),o=e([n,d]);[n,d]=o.then?(await o)():o;let l=n.Root,c=n.Trigger,u=i.forwardRef(({className:e,align:t="center",sideOffset:a=4,...s},i)=>r.jsx(n.Portal,{children:r.jsx(n.Content,{ref:i,align:t,sideOffset:a,className:(0,d.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));u.displayName=n.Content.displayName,s()}catch(e){s(e)}})},5333:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.d(t,{x:()=>l});var r=a(997),i=a(6689),n=a(307),d=a(7849),o=e([n,d]);[n,d]=o.then?(await o)():o;let l=i.forwardRef(({className:e,children:t,...a},s)=>(0,r.jsxs)(n.Root,{ref:s,className:(0,d.cn)("relative overflow-hidden",e),...a,children:[r.jsx(n.Viewport,{className:"h-full w-full rounded-[inherit]",children:t}),r.jsx(c,{}),r.jsx(n.Corner,{})]}));l.displayName=n.Root.displayName;let c=i.forwardRef(({className:e,orientation:t="vertical",...a},s)=>r.jsx(n.ScrollAreaScrollbar,{ref:s,orientation:t,className:(0,d.cn)("flex touch-none select-none transition-colors","vertical"===t&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===t&&"h-2.5 border-t border-t-transparent p-[1px]",e),...a,children:r.jsx(n.ScrollAreaThumb,{className:"relative flex-1 rounded-full bg-slate-200"})}));c.displayName=n.ScrollAreaScrollbar.displayName,s()}catch(e){s(e)}})},8885:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.d(t,{a:()=>o});var r=a(6689),i=a(5235),n=a(401),d=e([i,n]);[i,n]=d.then?(await d)():d;let o=()=>{let[e,t]=(0,r.useState)(null),[a,s]=(0,r.useState)(!0);(0,r.useEffect)(()=>(0,n.onAuthStateChanged)(i.I,e=>{t(e),s(!1)}),[]);let d=async(e,t)=>(0,n.signInWithEmailAndPassword)(i.I,e,t);return{user:e,loading:a,login:d,logout:()=>(0,n.signOut)(i.I)}};s()}catch(e){s(e)}})},7447:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.d(t,{z:()=>l});var r=a(6689),i=a(5235),n=a(1492),d=a(8885),o=e([i,n,d]);[i,n,d]=o.then?(await o)():o;let l=()=>{let[e,t]=(0,r.useState)([]),{user:a}=(0,d.a)();(0,r.useEffect)(()=>{if(!a)return;let e=(0,n.collection)(i.db,"notifications"),s=(0,n.query)(e,(0,n.where)("userId","==",a.uid),(0,n.orderBy)("createdAt","desc")),r=(0,n.onSnapshot)(s,e=>{let a=e.docs.map(e=>({id:e.id,...e.data()}));t(a)});return()=>r()},[a]);let s=async e=>{try{await i.db.collection("notifications").doc(e).update({read:!0})}catch(e){console.error("Error marking notification as read:",e)}},o=async e=>{try{await i.db.collection("notifications").doc(e).delete()}catch(e){console.error("Error clearing notification:",e)}};return{notifications:e,markAsRead:s,clearNotification:o}};s()}catch(e){s(e)}})},224:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.d(t,{l:()=>o});var r=a(6689),i=a(5235),n=a(1492),d=e([i,n]);[i,n]=d.then?(await d)():d;let o=e=>{let[t,a]=(0,r.useState)([]),[s,d]=(0,r.useState)(null),[o,l]=(0,r.useState)(!0),[c,u]=(0,r.useState)(null);return(0,r.useEffect)(()=>{if(!e){l(!1);return}try{let t=(0,n.collection)(i.db,"price_history"),s=(0,n.doc)(i.db,"price_predictions",e),r=(0,n.query)(t,(0,n.where)("dealId","==",e)),o=(0,n.onSnapshot)(r,e=>{let t=e.docs.map(e=>({id:e.id,...e.data(),timestamp:e.data().timestamp?.toDate()||new Date}));a(t)},e=>u(e)),c=(0,n.onSnapshot)(s,e=>{e.exists()&&d({...e.data(),predictionDate:e.data().predictionDate?.toDate()||new Date}),l(!1)},e=>u(e));return()=>{o(),c()}}catch(e){u(e),l(!1)}},[e]),{priceHistory:t,prediction:s,loading:o,error:c}};s()}catch(e){s(e)}})},5235:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.d(t,{I:()=>l,db:()=>c});var r=a(3745),i=a(401),n=a(1492),d=e([r,i,n]);[r,i,n]=d.then?(await d)():d;let o=(0,r.initializeApp)({apiKey:"AIzaSyC3vHM3MxMgDX6oRpbVXRBIXmi6GXmo3AU",authDomain:"snapfifty-7bd4d.firebaseapp.com",projectId:"snapfifty-7bd4d",storageBucket:"snapfifty-7bd4d.firebasestorage.app",messagingSenderId:"846042790489",appId:"1:846042790489:web:4abb0b5b5ddc4dd7984f48"}),l=(0,i.getAuth)(o),c=(0,n.getFirestore)(o);s()}catch(e){s(e)}})},6020:(e,t,a)=>{"use strict";a.a(e,async(e,t)=>{try{var s=a(5235),r=a(1492),i=a(3512),n=e([s,r,i]);[s,r,i]=n.then?(await n)():n,t()}catch(e){t(e)}})},7849:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.d(t,{cn:()=>d});var r=a(6593),i=a(8097),n=e([r,i]);function d(...e){return(0,i.twMerge)((0,r.clsx)(e))}[r,i]=n.then?(await n)():n,s()}catch(e){s(e)}})},4651:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.r(t),a.d(t,{default:()=>d});var r=a(997);a(108);var i=a(752),n=e([i]);i=(n.then?(await n)():n)[0];let d=function({Component:e,pageProps:t}){return r.jsx(i.Z,{children:r.jsx(e,{...t})})};s()}catch(e){s(e)}})},108:()=>{}};