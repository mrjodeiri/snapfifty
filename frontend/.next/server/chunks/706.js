exports.id=706,exports.ids=[706],exports.modules={8935:(e,t,a)=>{"use strict";a.a(e,async(e,t)=>{try{a(997),a(6689);var s=a(7300),r=a(354),i=a(8297),l=a(3595),n=a(9014),d=a(6020),o=a(8885),c=e([s,r,i,l,n,d,o]);[s,r,i,l,n,d,o]=c.then?(await c)():c,t()}catch(e){t(e)}})},9327:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.d(t,{Z:()=>c});var r=a(997),i=a(6689),l=a(8935),n=a(354),d=a(224),o=e([l,n,d]);[l,n,d]=o.then?(await o)():o;let c=({deal:e})=>{let{prediction:t,loading:a}=(0,d.l)(e.id),[s,l]=(0,i.useState)(!1);return(0,r.jsxs)(Card,{className:"w-full max-w-sm",children:[r.jsx(CardHeader,{children:(0,r.jsxs)(CardTitle,{className:"flex items-center justify-between",children:[r.jsx("span",{children:e.title}),(()=>{if(a)return null;let e={UP:{icon:ArrowUpCircle,color:"text-red-500",bg:"bg-red-50"},DOWN:{icon:ArrowDownCircle,color:"text-green-500",bg:"bg-green-50"},STABLE:{icon:MinusCircle,color:"text-gray-500",bg:"bg-gray-50"}}[t?.trendDirection||"STABLE"],s=e.icon;return(0,r.jsxs)("div",{className:`flex items-center gap-1 px-2 py-1 rounded-full ${e.bg}`,children:[r.jsx(s,{className:`h-4 w-4 ${e.color}`}),r.jsx("span",{className:`text-sm font-medium ${e.color}`,children:t?.trendDirection})]})})()]})}),r.jsx(CardContent,{children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("span",{className:"text-2xl font-bold",children:["$",e.discountedPrice]}),(0,r.jsxs)("span",{className:"text-gray-500 line-through",children:["$",e.originalPrice]})]}),r.jsx("p",{className:"text-gray-600",children:e.description})]})}),(0,r.jsxs)(CardFooter,{className:"flex justify-between",children:[(0,r.jsxs)(Dialog,{open:s,onOpenChange:l,children:[r.jsx(DialogTrigger,{asChild:!0,children:(0,r.jsxs)(n.z,{variant:"outline",className:"flex items-center gap-2",children:[r.jsx(TrendingUp,{className:"h-4 w-4"}),"View Price Trends"]})}),r.jsx(DialogContent,{className:"max-w-3xl",children:r.jsx(PriceTrendCard,{dealId:e.id})})]}),r.jsx(n.z,{onClick:()=>window.open(e.storeUrl,"_blank"),children:"Get Deal"})]})]})};s()}catch(e){s(e)}})},9014:(e,t,a)=>{"use strict";a.a(e,async(e,t)=>{try{var s=a(997),r=a(6689),i=a(6926),l=a(7849),n=e([i,l]);[i,l]=n.then?(await n)():n;let d=(0,i.cva)("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}});r.forwardRef(({className:e,variant:t,...a},r)=>s.jsx("div",{ref:r,role:"alert",className:(0,l.cn)(d({variant:t}),e),...a})).displayName="Alert",r.forwardRef(({className:e,...t},a)=>s.jsx("h5",{ref:a,className:(0,l.cn)("mb-1 font-medium leading-none tracking-tight",e),...t})).displayName="AlertTitle",r.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:(0,l.cn)("text-sm [&_p]:leading-relaxed",e),...t})).displayName="AlertDescription",t()}catch(e){t(e)}})},3736:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.d(t,{F$:()=>c,Q5:()=>f,qE:()=>o});var r=a(997),i=a(6689),l=a(5458),n=a(7849),d=e([l,n]);[l,n]=d.then?(await d)():d;let o=i.forwardRef(({className:e,...t},a)=>r.jsx(l.Root,{ref:a,className:(0,n.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));o.displayName=l.Root.displayName;let c=i.forwardRef(({className:e,...t},a)=>r.jsx(l.Image,{ref:a,className:(0,n.cn)("aspect-square h-full w-full",e),...t}));c.displayName=l.Image.displayName;let f=i.forwardRef(({className:e,...t},a)=>r.jsx(l.Fallback,{ref:a,className:(0,n.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));f.displayName=l.Fallback.displayName,s()}catch(e){s(e)}})},354:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.d(t,{z:()=>d});var r=a(997),i=a(6689),l=a(7849),n=e([l]);l=(n.then?(await n)():n)[0];let d=i.forwardRef(({className:e,variant:t="default",size:a="default",...s},i)=>r.jsx("button",{className:(0,l.cn)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{"bg-primary text-primary-foreground hover:bg-primary/90":"default"===t,"bg-destructive text-destructive-foreground hover:bg-destructive/90":"destructive"===t,"border border-input bg-background hover:bg-accent hover:text-accent-foreground":"outline"===t,"hover:bg-accent hover:text-accent-foreground":"ghost"===t,"h-10 px-4 py-2":"default"===a,"h-9 rounded-md px-3":"sm"===a,"h-11 rounded-md px-8":"lg"===a},e),ref:i,...s}));d.displayName="Button",s()}catch(e){s(e)}})},9889:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.d(t,{Ol:()=>o,Zb:()=>d,aY:()=>f,eW:()=>u,ll:()=>c});var r=a(997),i=a(6689),l=a(7849),n=e([l]);l=(n.then?(await n)():n)[0];let d=i.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));d.displayName="Card";let o=i.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",e),...t}));o.displayName="CardHeader";let c=i.forwardRef(({className:e,...t},a)=>r.jsx("h3",{ref:a,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));c.displayName="CardTitle",i.forwardRef(({className:e,...t},a)=>r.jsx("p",{ref:a,className:(0,l.cn)("text-sm text-muted-foreground",e),...t})).displayName="CardDescription";let f=i.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:(0,l.cn)("p-6 pt-0",e),...t}));f.displayName="CardContent";let u=i.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:(0,l.cn)("flex items-center p-6 pt-0",e),...t}));u.displayName="CardFooter",s()}catch(e){s(e)}})},7300:(e,t,a)=>{"use strict";a.a(e,async(e,t)=>{try{var s=a(997),r=a(6689),i=a(7715),l=a(7849),n=a(1203),d=e([i,l]);[i,l]=d.then?(await d)():d,i.Root,i.Trigger;let o=i.Portal;i.Close;let c=r.forwardRef(({className:e,...t},a)=>s.jsx(i.Overlay,{ref:a,className:(0,l.cn)("fixed inset-0 z-50 bg-black/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));c.displayName=i.Overlay.displayName,r.forwardRef(({className:e,children:t,...a},r)=>(0,s.jsxs)(o,{children:[s.jsx(c,{}),(0,s.jsxs)(i.Content,{ref:r,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...a,children:[t,(0,s.jsxs)(i.Close,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(n.Z,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]})).displayName=i.Content.displayName,r.forwardRef(({className:e,...t},a)=>s.jsx(i.Title,{ref:a,className:(0,l.cn)("text-lg font-semibold leading-none tracking-tight",e),...t})).displayName=i.Title.displayName,r.forwardRef(({className:e,...t},a)=>s.jsx(i.Description,{ref:a,className:(0,l.cn)("text-sm text-muted-foreground",e),...t})).displayName=i.Description.displayName,t()}catch(e){t(e)}})},8297:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.d(t,{I:()=>d});var r=a(997),i=a(6689),l=a(7849),n=e([l]);l=(n.then?(await n)():n)[0];let d=i.forwardRef(({className:e,type:t,...a},s)=>r.jsx("input",{type:t,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...a}));d.displayName="Input",s()}catch(e){s(e)}})},3595:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.d(t,{_:()=>o});var r=a(997),i=a(6689),l=a(49),n=a(7849),d=e([l,n]);[l,n]=d.then?(await d)():d;let o=i.forwardRef(({className:e,...t},a)=>r.jsx(l.Root,{ref:a,className:(0,n.cn)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e),...t}));o.displayName=l.Root.displayName,s()}catch(e){s(e)}})},5333:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.d(t,{x:()=>o});var r=a(997),i=a(6689),l=a(307),n=a(7849),d=e([l,n]);[l,n]=d.then?(await d)():d;let o=i.forwardRef(({className:e,children:t,...a},s)=>(0,r.jsxs)(l.Root,{ref:s,className:(0,n.cn)("relative overflow-hidden",e),...a,children:[r.jsx(l.Viewport,{className:"h-full w-full rounded-[inherit]",children:t}),r.jsx(c,{}),r.jsx(l.Corner,{})]}));o.displayName=l.Root.displayName;let c=i.forwardRef(({className:e,orientation:t="vertical",...a},s)=>r.jsx(l.ScrollAreaScrollbar,{ref:s,orientation:t,className:(0,n.cn)("flex touch-none select-none transition-colors","vertical"===t&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===t&&"h-2.5 border-t border-t-transparent p-[1px]",e),...a,children:r.jsx(l.ScrollAreaThumb,{className:"relative flex-1 rounded-full bg-slate-200"})}));c.displayName=l.ScrollAreaScrollbar.displayName,s()}catch(e){s(e)}})},529:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.d(t,{SP:()=>f,dr:()=>c,mQ:()=>o,nU:()=>u});var r=a(997),i=a(6689),l=a(6860),n=a(7849),d=e([l,n]);[l,n]=d.then?(await d)():d;let o=l.Root,c=i.forwardRef(({className:e,...t},a)=>r.jsx(l.List,{ref:a,className:(0,n.cn)("inline-flex h-10 items-center justify-center rounded-md bg-slate-100 p-1 text-slate-500 dark:bg-slate-800 dark:text-slate-400",e),...t}));c.displayName=l.List.displayName;let f=i.forwardRef(({className:e,...t},a)=>r.jsx(l.Trigger,{ref:a,className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-white transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-white data-[state=active]:text-slate-950 data-[state=active]:shadow-sm dark:ring-offset-slate-950 dark:focus-visible:ring-slate-800 dark:data-[state=active]:bg-slate-950 dark:data-[state=active]:text-slate-50",e),...t}));f.displayName=l.Trigger.displayName;let u=i.forwardRef(({className:e,...t},a)=>r.jsx(l.Content,{ref:a,className:(0,n.cn)("mt-2 ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400 focus-visible:ring-offset-2 dark:ring-offset-slate-950 dark:focus-visible:ring-slate-800",e),...t}));u.displayName=l.Content.displayName,s()}catch(e){s(e)}})},8885:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.d(t,{a:()=>d});var r=a(6689),i=a(5235),l=a(401),n=e([i,l]);[i,l]=n.then?(await n)():n;let d=()=>{let[e,t]=(0,r.useState)(null),[a,s]=(0,r.useState)(!0);(0,r.useEffect)(()=>(0,l.onAuthStateChanged)(i.I,e=>{t(e),s(!1)}),[]);let n=async(e,t)=>(0,l.signInWithEmailAndPassword)(i.I,e,t);return{user:e,loading:a,login:n,logout:()=>(0,l.signOut)(i.I)}};s()}catch(e){s(e)}})},224:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.d(t,{l:()=>d});var r=a(6689),i=a(5235),l=a(1492),n=e([i,l]);[i,l]=n.then?(await n)():n;let d=e=>{let[t,a]=(0,r.useState)([]),[s,n]=(0,r.useState)(null),[d,o]=(0,r.useState)(!0),[c,f]=(0,r.useState)(null);return(0,r.useEffect)(()=>{if(!e){o(!1);return}try{let t=(0,l.collection)(i.db,"price_history"),s=(0,l.doc)(i.db,"price_predictions",e),r=(0,l.query)(t,(0,l.where)("dealId","==",e)),d=(0,l.onSnapshot)(r,e=>{let t=e.docs.map(e=>({id:e.id,...e.data(),timestamp:e.data().timestamp?.toDate()||new Date}));a(t)},e=>f(e)),c=(0,l.onSnapshot)(s,e=>{e.exists()&&n({...e.data(),predictionDate:e.data().predictionDate?.toDate()||new Date}),o(!1)},e=>f(e));return()=>{d(),c()}}catch(e){f(e),o(!1)}},[e]),{priceHistory:t,prediction:s,loading:d,error:c}};s()}catch(e){s(e)}})},5235:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.d(t,{I:()=>o,db:()=>c});var r=a(3745),i=a(401),l=a(1492),n=e([r,i,l]);[r,i,l]=n.then?(await n)():n;let d=(0,r.initializeApp)({apiKey:"AIzaSyC3vHM3MxMgDX6oRpbVXRBIXmi6GXmo3AU",authDomain:"snapfifty-7bd4d.firebaseapp.com",projectId:"snapfifty-7bd4d",storageBucket:"snapfifty-7bd4d.firebasestorage.app",messagingSenderId:"846042790489",appId:"1:846042790489:web:4abb0b5b5ddc4dd7984f48"}),o=(0,i.getAuth)(d),c=(0,l.getFirestore)(d);s()}catch(e){s(e)}})},4960:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.d(t,{W:()=>d});var r=a(1492),i=a(5235),l=e([r,i]);[r,i]=l.then?(await l)():l;class n{async getUserProfile(e){let t=(0,r.doc)(i.db,"users",e),a=await (0,r.getDoc)(t);return a.exists()?a.data():null}async updateUserProfile(e,t){let a=(0,r.doc)(i.db,"users",e);await (0,r.updateDoc)(a,{...t,updatedAt:(0,r.serverTimestamp)()})}async saveDeal(e,t){let a=(0,r.doc)(i.db,"users",e);await (0,r.updateDoc)(a,{savedDeals:(0,r.arrayUnion)(t),updatedAt:(0,r.serverTimestamp)()})}async unsaveDeal(e,t){let a=(0,r.doc)(i.db,"users",e);await (0,r.updateDoc)(a,{savedDeals:(0,r.arrayRemove)(t),updatedAt:(0,r.serverTimestamp)()})}async getSavedDeals(e){let t=(0,r.doc)(i.db,"users",e),a=await (0,r.getDoc)(t),s=a.data()?.savedDeals||[];if(0===s.length)return[];let l=(0,r.collection)(i.db,"deals"),n=[];for(let e=0;e<s.length;e+=10)n.push(s.slice(e,e+10));let d=[];for(let e of n){let t=(0,r.query)(l,(0,r.where)("__name__","in",e)),a=await (0,r.getDocs)(t);d.push(...a.docs.map(e=>({id:e.id,...e.data()})))}return d}async getPreferences(e){let t=(0,r.doc)(i.db,"users",e),a=await (0,r.getDoc)(t);return a.data()?.preferences||{}}async updatePreferences(e,t){let a=(0,r.doc)(i.db,"users",e);await (0,r.updateDoc)(a,{preferences:t,updatedAt:(0,r.serverTimestamp)()})}async createInitialUserProfile(e,t){let a=(0,r.doc)(i.db,"users",e);await (0,r.setDoc)(a,{...t,savedDeals:[],preferences:{},createdAt:(0,r.serverTimestamp)(),updatedAt:(0,r.serverTimestamp)()})}}let d=new n;s()}catch(e){s(e)}})},6020:(e,t,a)=>{"use strict";a.a(e,async(e,t)=>{try{var s=a(5235),r=a(1492),i=a(3512),l=e([s,r,i]);[s,r,i]=l.then?(await l)():l,t()}catch(e){t(e)}})},7849:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.d(t,{cn:()=>n});var r=a(6593),i=a(8097),l=e([r,i]);function n(...e){return(0,i.twMerge)((0,r.clsx)(e))}[r,i]=l.then?(await l)():l,s()}catch(e){s(e)}})},4971:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var s=a(997);function r({children:e}){return s.jsx("div",{className:"min-h-screen bg-background",children:e})}a(108),a(6689);let i=function({Component:e,pageProps:t}){return s.jsx(r,{children:s.jsx(e,{...t})})}},108:()=>{}};