"use strict";exports.id=480,exports.ids=[480],exports.modules={8935:(e,a,t)=>{t.a(e,async(e,a)=>{try{t(997),t(6689);var s=t(7300),r=t(354),i=t(8297),l=t(3595),n=t(9014),d=t(6020),o=t(8885),c=e([s,r,i,l,n,d,o]);[s,r,i,l,n,d,o]=c.then?(await c)():c,a()}catch(e){a(e)}})},9327:(e,a,t)=>{t.a(e,async(e,s)=>{try{t.d(a,{Z:()=>c});var r=t(997),i=t(6689),l=t(8935),n=t(354),d=t(224),o=e([l,n,d]);[l,n,d]=o.then?(await o)():o;let c=({deal:e})=>{let{prediction:a,loading:t}=(0,d.l)(e.id),[s,l]=(0,i.useState)(!1);return(0,r.jsxs)(Card,{className:"w-full max-w-sm",children:[r.jsx(CardHeader,{children:(0,r.jsxs)(CardTitle,{className:"flex items-center justify-between",children:[r.jsx("span",{children:e.title}),(()=>{if(t)return null;let e={UP:{icon:ArrowUpCircle,color:"text-red-500",bg:"bg-red-50"},DOWN:{icon:ArrowDownCircle,color:"text-green-500",bg:"bg-green-50"},STABLE:{icon:MinusCircle,color:"text-gray-500",bg:"bg-gray-50"}}[a?.trendDirection||"STABLE"],s=e.icon;return(0,r.jsxs)("div",{className:`flex items-center gap-1 px-2 py-1 rounded-full ${e.bg}`,children:[r.jsx(s,{className:`h-4 w-4 ${e.color}`}),r.jsx("span",{className:`text-sm font-medium ${e.color}`,children:a?.trendDirection})]})})()]})}),r.jsx(CardContent,{children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("span",{className:"text-2xl font-bold",children:["$",e.discountedPrice]}),(0,r.jsxs)("span",{className:"text-gray-500 line-through",children:["$",e.originalPrice]})]}),r.jsx("p",{className:"text-gray-600",children:e.description})]})}),(0,r.jsxs)(CardFooter,{className:"flex justify-between",children:[(0,r.jsxs)(Dialog,{open:s,onOpenChange:l,children:[r.jsx(DialogTrigger,{asChild:!0,children:(0,r.jsxs)(n.z,{variant:"outline",className:"flex items-center gap-2",children:[r.jsx(TrendingUp,{className:"h-4 w-4"}),"View Price Trends"]})}),r.jsx(DialogContent,{className:"max-w-3xl",children:r.jsx(PriceTrendCard,{dealId:e.id})})]}),r.jsx(n.z,{onClick:()=>window.open(e.storeUrl,"_blank"),children:"Get Deal"})]})]})};s()}catch(e){s(e)}})},9014:(e,a,t)=>{t.a(e,async(e,a)=>{try{var s=t(997),r=t(6689),i=t(6926),l=t(7849),n=e([i,l]);[i,l]=n.then?(await n)():n;let d=(0,i.cva)("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}});r.forwardRef(({className:e,variant:a,...t},r)=>s.jsx("div",{ref:r,role:"alert",className:(0,l.cn)(d({variant:a}),e),...t})).displayName="Alert",r.forwardRef(({className:e,...a},t)=>s.jsx("h5",{ref:t,className:(0,l.cn)("mb-1 font-medium leading-none tracking-tight",e),...a})).displayName="AlertTitle",r.forwardRef(({className:e,...a},t)=>s.jsx("div",{ref:t,className:(0,l.cn)("text-sm [&_p]:leading-relaxed",e),...a})).displayName="AlertDescription",a()}catch(e){a(e)}})},3736:(e,a,t)=>{t.a(e,async(e,s)=>{try{t.d(a,{F$:()=>c,Q5:()=>f,qE:()=>o});var r=t(997),i=t(6689),l=t(5458),n=t(7849),d=e([l,n]);[l,n]=d.then?(await d)():d;let o=i.forwardRef(({className:e,...a},t)=>r.jsx(l.Root,{ref:t,className:(0,n.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...a}));o.displayName=l.Root.displayName;let c=i.forwardRef(({className:e,...a},t)=>r.jsx(l.Image,{ref:t,className:(0,n.cn)("aspect-square h-full w-full",e),...a}));c.displayName=l.Image.displayName;let f=i.forwardRef(({className:e,...a},t)=>r.jsx(l.Fallback,{ref:t,className:(0,n.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...a}));f.displayName=l.Fallback.displayName,s()}catch(e){s(e)}})},354:(e,a,t)=>{t.a(e,async(e,s)=>{try{t.d(a,{z:()=>d});var r=t(997),i=t(6689),l=t(7849),n=e([l]);l=(n.then?(await n)():n)[0];let d=i.forwardRef(({className:e,variant:a="default",size:t="default",...s},i)=>r.jsx("button",{className:(0,l.cn)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{"bg-primary text-primary-foreground hover:bg-primary/90":"default"===a,"bg-destructive text-destructive-foreground hover:bg-destructive/90":"destructive"===a,"border border-input bg-background hover:bg-accent hover:text-accent-foreground":"outline"===a,"hover:bg-accent hover:text-accent-foreground":"ghost"===a,"h-10 px-4 py-2":"default"===t,"h-9 rounded-md px-3":"sm"===t,"h-11 rounded-md px-8":"lg"===t},e),ref:i,...s}));d.displayName="Button",s()}catch(e){s(e)}})},9889:(e,a,t)=>{t.a(e,async(e,s)=>{try{t.d(a,{Ol:()=>o,Zb:()=>d,aY:()=>f,eW:()=>u,ll:()=>c});var r=t(997),i=t(6689),l=t(7849),n=e([l]);l=(n.then?(await n)():n)[0];let d=i.forwardRef(({className:e,...a},t)=>r.jsx("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...a}));d.displayName="Card";let o=i.forwardRef(({className:e,...a},t)=>r.jsx("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",e),...a}));o.displayName="CardHeader";let c=i.forwardRef(({className:e,...a},t)=>r.jsx("h3",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",e),...a}));c.displayName="CardTitle",i.forwardRef(({className:e,...a},t)=>r.jsx("p",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",e),...a})).displayName="CardDescription";let f=i.forwardRef(({className:e,...a},t)=>r.jsx("div",{ref:t,className:(0,l.cn)("p-6 pt-0",e),...a}));f.displayName="CardContent";let u=i.forwardRef(({className:e,...a},t)=>r.jsx("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",e),...a}));u.displayName="CardFooter",s()}catch(e){s(e)}})},7300:(e,a,t)=>{t.a(e,async(e,a)=>{try{var s=t(997),r=t(6689),i=t(7715),l=t(7849),n=t(1203),d=e([i,l]);[i,l]=d.then?(await d)():d,i.Root,i.Trigger;let o=i.Portal;i.Close;let c=r.forwardRef(({className:e,...a},t)=>s.jsx(i.Overlay,{ref:t,className:(0,l.cn)("fixed inset-0 z-50 bg-black/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...a}));c.displayName=i.Overlay.displayName,r.forwardRef(({className:e,children:a,...t},r)=>(0,s.jsxs)(o,{children:[s.jsx(c,{}),(0,s.jsxs)(i.Content,{ref:r,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t,children:[a,(0,s.jsxs)(i.Close,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(n.Z,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]})).displayName=i.Content.displayName,r.forwardRef(({className:e,...a},t)=>s.jsx(i.Title,{ref:t,className:(0,l.cn)("text-lg font-semibold leading-none tracking-tight",e),...a})).displayName=i.Title.displayName,r.forwardRef(({className:e,...a},t)=>s.jsx(i.Description,{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",e),...a})).displayName=i.Description.displayName,a()}catch(e){a(e)}})},8297:(e,a,t)=>{t.a(e,async(e,s)=>{try{t.d(a,{I:()=>d});var r=t(997),i=t(6689),l=t(7849),n=e([l]);l=(n.then?(await n)():n)[0];let d=i.forwardRef(({className:e,type:a,...t},s)=>r.jsx("input",{type:a,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...t}));d.displayName="Input",s()}catch(e){s(e)}})},3595:(e,a,t)=>{t.a(e,async(e,s)=>{try{t.d(a,{_:()=>o});var r=t(997),i=t(6689),l=t(49),n=t(7849),d=e([l,n]);[l,n]=d.then?(await d)():d;let o=i.forwardRef(({className:e,...a},t)=>r.jsx(l.Root,{ref:t,className:(0,n.cn)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e),...a}));o.displayName=l.Root.displayName,s()}catch(e){s(e)}})},5333:(e,a,t)=>{t.a(e,async(e,s)=>{try{t.d(a,{x:()=>o});var r=t(997),i=t(6689),l=t(307),n=t(7849),d=e([l,n]);[l,n]=d.then?(await d)():d;let o=i.forwardRef(({className:e,children:a,...t},s)=>(0,r.jsxs)(l.Root,{ref:s,className:(0,n.cn)("relative overflow-hidden",e),...t,children:[r.jsx(l.Viewport,{className:"h-full w-full rounded-[inherit]",children:a}),r.jsx(c,{}),r.jsx(l.Corner,{})]}));o.displayName=l.Root.displayName;let c=i.forwardRef(({className:e,orientation:a="vertical",...t},s)=>r.jsx(l.ScrollAreaScrollbar,{ref:s,orientation:a,className:(0,n.cn)("flex touch-none select-none transition-colors","vertical"===a&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===a&&"h-2.5 border-t border-t-transparent p-[1px]",e),...t,children:r.jsx(l.ScrollAreaThumb,{className:"relative flex-1 rounded-full bg-slate-200"})}));c.displayName=l.ScrollAreaScrollbar.displayName,s()}catch(e){s(e)}})},529:(e,a,t)=>{t.a(e,async(e,s)=>{try{t.d(a,{SP:()=>f,dr:()=>c,mQ:()=>o,nU:()=>u});var r=t(997),i=t(6689),l=t(6860),n=t(7849),d=e([l,n]);[l,n]=d.then?(await d)():d;let o=l.Root,c=i.forwardRef(({className:e,...a},t)=>r.jsx(l.List,{ref:t,className:(0,n.cn)("inline-flex h-10 items-center justify-center rounded-md bg-slate-100 p-1 text-slate-500 dark:bg-slate-800 dark:text-slate-400",e),...a}));c.displayName=l.List.displayName;let f=i.forwardRef(({className:e,...a},t)=>r.jsx(l.Trigger,{ref:t,className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-white transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-white data-[state=active]:text-slate-950 data-[state=active]:shadow-sm dark:ring-offset-slate-950 dark:focus-visible:ring-slate-800 dark:data-[state=active]:bg-slate-950 dark:data-[state=active]:text-slate-50",e),...a}));f.displayName=l.Trigger.displayName;let u=i.forwardRef(({className:e,...a},t)=>r.jsx(l.Content,{ref:t,className:(0,n.cn)("mt-2 ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400 focus-visible:ring-offset-2 dark:ring-offset-slate-950 dark:focus-visible:ring-slate-800",e),...a}));u.displayName=l.Content.displayName,s()}catch(e){s(e)}})},8885:(e,a,t)=>{t.a(e,async(e,s)=>{try{t.d(a,{a:()=>d});var r=t(6689),i=t(5235),l=t(401),n=e([i,l]);[i,l]=n.then?(await n)():n;let d=()=>{let[e,a]=(0,r.useState)(null),[t,s]=(0,r.useState)(!0);(0,r.useEffect)(()=>(0,l.onAuthStateChanged)(i.I,e=>{a(e),s(!1)}),[]);let n=async(e,a)=>(0,l.signInWithEmailAndPassword)(i.I,e,a);return{user:e,loading:t,login:n,logout:()=>(0,l.signOut)(i.I)}};s()}catch(e){s(e)}})},224:(e,a,t)=>{t.a(e,async(e,s)=>{try{t.d(a,{l:()=>d});var r=t(6689),i=t(5235),l=t(1492),n=e([i,l]);[i,l]=n.then?(await n)():n;let d=e=>{let[a,t]=(0,r.useState)([]),[s,n]=(0,r.useState)(null),[d,o]=(0,r.useState)(!0),[c,f]=(0,r.useState)(null);return(0,r.useEffect)(()=>{if(!e){o(!1);return}try{let a=(0,l.collection)(i.db,"price_history"),s=(0,l.doc)(i.db,"price_predictions",e),r=(0,l.query)(a,(0,l.where)("dealId","==",e)),d=(0,l.onSnapshot)(r,e=>{let a=e.docs.map(e=>({id:e.id,...e.data(),timestamp:e.data().timestamp?.toDate()||new Date}));t(a)},e=>f(e)),c=(0,l.onSnapshot)(s,e=>{e.exists()&&n({...e.data(),predictionDate:e.data().predictionDate?.toDate()||new Date}),o(!1)},e=>f(e));return()=>{d(),c()}}catch(e){f(e),o(!1)}},[e]),{priceHistory:a,prediction:s,loading:d,error:c}};s()}catch(e){s(e)}})},5235:(e,a,t)=>{t.a(e,async(e,s)=>{try{t.d(a,{I:()=>o,db:()=>c});var r=t(3745),i=t(401),l=t(1492),n=e([r,i,l]);[r,i,l]=n.then?(await n)():n;let d=(0,r.initializeApp)({apiKey:"AIzaSyC3vHM3MxMgDX6oRpbVXRBIXmi6GXmo3AU",authDomain:"snapfifty-7bd4d.firebaseapp.com",projectId:"snapfifty-7bd4d",storageBucket:"snapfifty-7bd4d.firebasestorage.app",messagingSenderId:"846042790489",appId:"1:846042790489:web:4abb0b5b5ddc4dd7984f48"}),o=(0,i.getAuth)(d),c=(0,l.getFirestore)(d);s()}catch(e){s(e)}})},4960:(e,a,t)=>{t.a(e,async(e,s)=>{try{t.d(a,{W:()=>d});var r=t(1492),i=t(5235),l=e([r,i]);[r,i]=l.then?(await l)():l;class n{async getUserProfile(e){let a=(0,r.doc)(i.db,"users",e),t=await (0,r.getDoc)(a);return t.exists()?t.data():null}async updateUserProfile(e,a){let t=(0,r.doc)(i.db,"users",e);await (0,r.updateDoc)(t,{...a,updatedAt:(0,r.serverTimestamp)()})}async saveDeal(e,a){let t=(0,r.doc)(i.db,"users",e);await (0,r.updateDoc)(t,{savedDeals:(0,r.arrayUnion)(a),updatedAt:(0,r.serverTimestamp)()})}async unsaveDeal(e,a){let t=(0,r.doc)(i.db,"users",e);await (0,r.updateDoc)(t,{savedDeals:(0,r.arrayRemove)(a),updatedAt:(0,r.serverTimestamp)()})}async getSavedDeals(e){let a=(0,r.doc)(i.db,"users",e),t=await (0,r.getDoc)(a),s=t.data()?.savedDeals||[];if(0===s.length)return[];let l=(0,r.collection)(i.db,"deals"),n=[];for(let e=0;e<s.length;e+=10)n.push(s.slice(e,e+10));let d=[];for(let e of n){let a=(0,r.query)(l,(0,r.where)("__name__","in",e)),t=await (0,r.getDocs)(a);d.push(...t.docs.map(e=>({id:e.id,...e.data()})))}return d}async getPreferences(e){let a=(0,r.doc)(i.db,"users",e),t=await (0,r.getDoc)(a);return t.data()?.preferences||{}}async updatePreferences(e,a){let t=(0,r.doc)(i.db,"users",e);await (0,r.updateDoc)(t,{preferences:a,updatedAt:(0,r.serverTimestamp)()})}async createInitialUserProfile(e,a){let t=(0,r.doc)(i.db,"users",e);await (0,r.setDoc)(t,{...a,savedDeals:[],preferences:{},createdAt:(0,r.serverTimestamp)(),updatedAt:(0,r.serverTimestamp)()})}}let d=new n;s()}catch(e){s(e)}})},6020:(e,a,t)=>{t.a(e,async(e,a)=>{try{var s=t(5235),r=t(1492),i=t(3512),l=e([s,r,i]);[s,r,i]=l.then?(await l)():l,a()}catch(e){a(e)}})},7849:(e,a,t)=>{t.a(e,async(e,s)=>{try{t.d(a,{cn:()=>n});var r=t(6593),i=t(8097),l=e([r,i]);function n(...e){return(0,i.twMerge)((0,r.clsx)(e))}[r,i]=l.then?(await l)():l,s()}catch(e){s(e)}})}};